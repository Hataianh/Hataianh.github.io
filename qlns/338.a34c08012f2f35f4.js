"use strict";(self.webpackChunkQLNS=self.webpackChunkQLNS||[]).push([[338],{3338:(ke,x,h)=>{h.r(x),h.d(x,{ManageModule:()=>De});var d=h(6895),E=h(3599),N=h(4466),a=h(433),g=h(221),q=h(2521),p=h(4667),S=h(5226),m=h.n(S),t=h(1571),_=h(7831),T=h(2317),v=h(3056);const c=function(i){return{active:i}};function w(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setPhongBan(r.maPhongBan))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,c,n.phongban==e.maPhongBan)),t.xp6(1),t.Oqu(e.tenPhongBan)}}function I(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setBoPhan(r.maBoPhan))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,c,n.bophan==e.maBoPhan)),t.xp6(1),t.Oqu(e.tenBoPhan)}}function U(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setChucVu(r.maChucVu))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,c,n.chucvu==e.maChucVu)),t.xp6(1),t.Oqu(e.tenChucVu)}}function D(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setTrinhDo(r.maTrinhDo))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,c,n.trinhdo==e.maTrinhDo)),t.xp6(1),t.Oqu(e.tenTrinhDo)}}function k(i,l){1&i&&t._UZ(0,"th")}function y(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"span")(2,"a",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openUpdateModal(o.maNhanVien))}),t._UZ(3,"i",41),t.qZA(),t._uU(4," | "),t.TgZ(5,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onRemove(o.maNhanVien))}),t._UZ(6,"i",43),t.qZA()()()}}function M(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",39),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.YNc(22,y,7,0,"td",35),t.qZA()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.s9C("src",e.hinhAnh,t.LSH),t.xp6(2),t.Oqu(e.hoTen),t.xp6(2),t.Oqu(e.gioiTinh),t.xp6(2),t.Oqu(t.xi3(11,11,e.ngaySinh,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.dienThoai),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.tenPhongBan),t.xp6(2),t.Oqu(e.tenBoPhan),t.xp6(2),t.Oqu(e.tenChucVu),t.xp6(1),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Nh\xe2n s\u1ef1"==o.user.roleBP)}}function J(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function F(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1," H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function B(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1," H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function z(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,J,2,0,"div",90),t.YNc(2,F,2,0,"div",90),t.YNc(3,B,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.hoten.errors?null:e.hoten.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.hoten.errors?null:e.hoten.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.hoten.errors?null:e.hoten.errors.maxlength)}}function L(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function Q(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,L,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.ngaysinh.errors?null:e.ngaysinh.errors.required)}}function H(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"CCCD kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function P(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,H,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.cccd.errors?null:e.cccd.errors.required)}}function O(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function Y(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,O,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.diachi.errors?null:e.diachi.errors.required)}}function K(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng! "),t.qZA())}function V(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i! "),t.qZA())}function G(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,K,2,0,"div",90),t.YNc(2,V,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.dienthoai.errors?null:e.dienthoai.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.dienthoai.errors?null:e.dienthoai.errors.pattern)}}function j(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"Email kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng!"),t.qZA())}function X(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng c\u1ee7a email!"),t.qZA())}function R(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,j,2,0,"div",90),t.YNc(2,X,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function W(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"M\u1eadt kh\u1ea9u l\xe0 b\u1eaft bu\u1ed9c"),t.qZA())}function tt(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1," \u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u ph\u1ea3i l\xe0 8 k\xfd t\u1ef1 v\xe0 ph\u1ea3i ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t @#!$%&*."),t.qZA())}function et(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,W,2,0,"div",90),t.YNc(2,tt,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.password.errors?null:e.password.errors.password)}}function nt(i,l){if(1&i&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maPhongBan),t.xp6(1),t.Oqu(e.tenPhongBan)}}function ot(i,l){if(1&i&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maBoPhan),t.xp6(1),t.hij("",e.tenBoPhan," ")}}function it(i,l){if(1&i&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maChucVu),t.xp6(1),t.Oqu(e.tenChucVu)}}function at(i,l){if(1&i&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maTrinhDo),t.xp6(1),t.Oqu(e.tenTrinhDo)}}function lt(i,l){1&i&&(t.TgZ(0,"div",58),t._uU(1,"M\u1ee9c l\u01b0\u01a1ng kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng!"),t.qZA())}function rt(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,lt,2,0,"div",90),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.mucluong.errors?null:e.mucluong.errors.required)}}function st(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",56)(1,"label",57),t._uU(2,"Tr\u1ea1ng th\xe1i:"),t.qZA(),t.TgZ(3,"div")(4,"select",92),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.trangThai=o)}),t.TgZ(5,"option",77),t._uU(6,"Tr\u1ea1ng th\xe1i"),t.qZA(),t.TgZ(7,"option",91),t._uU(8,"\u0110ang l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(9,"option",91),t._uU(10,"\u0110\xe3 ngh\u1ec9 vi\u1ec7c"),t.qZA()()()()}if(2&i){const e=t.oxw(3);t.xp6(4),t.Q6J("ngModel",e.trangThai),t.xp6(3),t.Q6J("value",1),t.xp6(2),t.Q6J("value",0)}}function dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",53),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmNhanvien.value))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",54)(4,"div",55)(5,"div",56)(6,"label",57),t._uU(7,"H\u1ecd t\xean("),t.TgZ(8,"span",58),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",59),t.YNc(13,z,4,3,"div",35),t.qZA()(),t.TgZ(14,"div",56)(15,"label",57),t._uU(16,"Gi\u1edbi t\xednh("),t.TgZ(17,"span",58),t._uU(18,"*"),t.qZA(),t._uU(19,")"),t.qZA(),t.TgZ(20,"div")(21,"label",60),t._UZ(22,"input",61),t._uU(23," Nam "),t.qZA(),t.TgZ(24,"label",62),t._UZ(25,"input",63),t._uU(26," N\u1eef "),t.qZA()()(),t.TgZ(27,"div",56)(28,"label",57),t._uU(29,"Ng\xe0y sinh("),t.TgZ(30,"span",58),t._uU(31,"*"),t.qZA(),t._uU(32,"):"),t.qZA(),t.TgZ(33,"div"),t._UZ(34,"input",64),t.YNc(35,Q,2,1,"div",35),t.qZA()(),t.TgZ(36,"div",56)(37,"label",57),t._uU(38,"CCCD("),t.TgZ(39,"span",58),t._uU(40,"*"),t.qZA(),t._uU(41,"):"),t.qZA(),t.TgZ(42,"div"),t._UZ(43,"input",65),t.YNc(44,P,2,1,"div",35),t.qZA()(),t.TgZ(45,"div",56)(46,"label",57),t._uU(47,"\u0110\u1ecba ch\u1ec9("),t.TgZ(48,"span",58),t._uU(49,"*"),t.qZA(),t._uU(50,"):"),t.qZA(),t.TgZ(51,"div"),t._UZ(52,"input",66),t.YNc(53,Y,2,1,"div",35),t.qZA()(),t.TgZ(54,"div",56)(55,"label",57),t._uU(56,"H\xecnh \u1ea3nh:"),t.qZA(),t.TgZ(57,"div")(58,"div",67)(59,"div",68)(60,"a",69),t._UZ(61,"img",70),t.qZA()(),t.TgZ(62,"div",71)(63,"input",72),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.upload(o))}),t.qZA()()()()(),t.TgZ(64,"div",56)(65,"label",57),t._uU(66,"\u0110i\u1ec7n tho\u1ea1i("),t.TgZ(67,"span",58),t._uU(68,"*"),t.qZA(),t._uU(69,")"),t.qZA(),t.TgZ(70,"div"),t._UZ(71,"input",73),t.YNc(72,G,3,2,"div",35),t.qZA()(),t.TgZ(73,"div",56)(74,"label",57),t._uU(75,"Email("),t.TgZ(76,"span",58),t._uU(77,"*"),t.qZA(),t._uU(78,")"),t.qZA(),t.TgZ(79,"div"),t._UZ(80,"input",74),t.YNc(81,R,3,2,"div",35),t.qZA()(),t.TgZ(82,"div",56)(83,"label",57),t._uU(84,"Password("),t.TgZ(85,"span",58),t._uU(86,"*"),t.qZA(),t._uU(87,"):"),t.qZA(),t.TgZ(88,"div"),t._UZ(89,"input",75),t.YNc(90,et,3,2,"div",35),t.qZA()(),t.TgZ(91,"div",56)(92,"label",57),t._uU(93,"Ph\xf2ng ban:"),t.qZA(),t.TgZ(94,"div")(95,"select",76),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maPhongBan=o)}),t.TgZ(96,"option",77),t._uU(97,"Ph\xf2ng ban"),t.qZA(),t.YNc(98,nt,2,2,"option",78),t.qZA()()()(),t.TgZ(99,"div",55)(100,"div",56)(101,"label",57),t._uU(102,"B\u1ed9 ph\u1eadn:"),t.qZA(),t.TgZ(103,"div")(104,"select",79),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maBoPhan=o)}),t.TgZ(105,"option",77),t._uU(106,"B\u1ed9 ph\u1eadn"),t.qZA(),t.YNc(107,ot,2,2,"option",78),t.qZA()()(),t.TgZ(108,"div",56)(109,"label",57),t._uU(110,"Ch\u1ee9c v\u1ee5:"),t.qZA(),t.TgZ(111,"div")(112,"select",80),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maChucVu=o)}),t.TgZ(113,"option",77),t._uU(114,"Ch\u1ee9c v\u1ee5"),t.qZA(),t.YNc(115,it,2,2,"option",78),t.qZA()()(),t.TgZ(116,"div",56)(117,"label",57),t._uU(118,"Tr\xecnh \u0111\u1ed9:"),t.qZA(),t.TgZ(119,"div")(120,"select",81),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maTrinhDo=o)}),t.TgZ(121,"option",77),t._uU(122,"Tr\xecnh \u0111\u1ed9"),t.qZA(),t.YNc(123,at,2,2,"option",78),t.qZA()()(),t.TgZ(124,"div",56)(125,"label",57),t._uU(126,"B\u1ea3o hi\u1ec3m:"),t.qZA(),t.TgZ(127,"div")(128,"ng-multiselect-dropdown",82),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedBaoHiem=o)}),t.qZA()()(),t.TgZ(129,"div",56)(130,"label",57),t._uU(131,"Ph\u1ee5 c\u1ea5p:"),t.qZA(),t.TgZ(132,"div")(133,"ng-multiselect-dropdown",83),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedPhuCap=o)}),t.qZA()()(),t.TgZ(134,"div",56)(135,"label",57),t._uU(136,"Ch\u1ee9c n\u0103ng:"),t.qZA(),t.TgZ(137,"div")(138,"ng-multiselect-dropdown",84),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedChucNang=o)}),t.qZA()()(),t.TgZ(139,"div",56)(140,"label",57),t._uU(141,"M\u1ee9c l\u01b0\u01a1ng("),t.TgZ(142,"span",58),t._uU(143,"*"),t.qZA(),t._uU(144,")"),t.qZA(),t.TgZ(145,"div"),t._UZ(146,"input",85),t.YNc(147,rt,2,1,"div",35),t.qZA()(),t.YNc(148,st,11,3,"div",86),t.qZA()(),t.TgZ(149,"div",87)(150,"button",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(151,"Close"),t.qZA(),t.TgZ(152,"button",89),t._uU(153,"Save"),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmNhanvien),t.xp6(13),t.Q6J("ngIf",e.hoten.invalid&&(e.hoten.dirty||e.hoten.touched)),t.xp6(22),t.Q6J("ngIf",e.ngaysinh.invalid&&(e.ngaysinh.dirty||e.ngaysinh.touched)),t.xp6(9),t.Q6J("ngIf",e.cccd.invalid&&(e.cccd.dirty||e.cccd.touched)),t.xp6(9),t.Q6J("ngIf",e.diachi.invalid&&(e.diachi.dirty||e.diachi.touched)),t.xp6(8),t.Q6J("src",e.nhanvien&&e.nhanvien.hinhAnh?e.nhanvien.hinhAnh:"assets/images/placeholder.jpg",t.LSH),t.xp6(11),t.Q6J("ngIf",e.dienthoai.invalid&&(e.dienthoai.dirty||e.dienthoai.touched)),t.xp6(9),t.Q6J("ngIf",e.email.invalid&&(e.email.dirty||e.email.touched)),t.xp6(9),t.Q6J("ngIf",e.password.invalid&&(e.password.dirty||e.password.touched)),t.xp6(5),t.Q6J("ngModel",e.maPhongBan),t.xp6(3),t.Q6J("ngForOf",e.list_phongbans),t.xp6(6),t.Q6J("ngModel",e.maBoPhan),t.xp6(3),t.Q6J("ngForOf",e.list_bophans),t.xp6(5),t.Q6J("ngModel",e.maChucVu),t.xp6(3),t.Q6J("ngForOf",e.list_chucvus),t.xp6(5),t.Q6J("ngModel",e.maTrinhDo),t.xp6(3),t.Q6J("ngForOf",e.list_trinhdos),t.xp6(5),t.Q6J("placeholder","Ch\u1ecdn lo\u1ea1i b\u1ea3o hi\u1ec3m")("settings",e.BHdropdownSettings)("data",e.baoHiemList)("ngModel",e.selectedBaoHiem),t.xp6(5),t.Q6J("placeholder","Ch\u1ecdn lo\u1ea1i ph\u1ee5 c\u1ea5p")("settings",e.PCdropdownSettings)("data",e.phuCapList)("ngModel",e.selectedPhuCap),t.xp6(5),t.Q6J("placeholder","Ch\u1ecdn lo\u1ea1i ch\u1ee9c n\u0103ng")("settings",e.CNdropdownSettings)("data",e.chucNangList)("ngModel",e.selectedChucNang),t.xp6(9),t.Q6J("ngIf",e.mucluong.invalid&&(e.mucluong.dirty||e.mucluong.touched)),t.xp6(1),t.Q6J("ngIf",0==e.isCreate),t.xp6(4),t.Q6J("disabled",e.frmNhanvien.invalid)}}function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47)(4,"h5",48),t._uU(5,"Qu\u1ea3n l\xfd nh\xe2n vi\xean"),t.qZA(),t.TgZ(6,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",50),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",51),t.YNc(10,dt,154,32,"form",52),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let ut=(()=>{class i extends p.H{constructor(e,n,o){super(e),this.sweetAlertService=n,this.authenticationService=o,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.user=this.authenticationService.userValue,this.phongban=localStorage.getItem("phongban")||"",this.trinhdo=localStorage.getItem("trinhdo")||"",this.bophan=localStorage.getItem("bophan")||"",this.chucvu=localStorage.getItem("chucvu")||"",this.loaitrangthai=localStorage.getItem("loaitrangthai")||"",this.LoadData(this.pageSize),this.loadData(),this.loadBaoHiemList(),this.loadPhuCapList(),this.loadChucNangList(),this._api.get("/api/trinhdo/get-trinhdo").subscribe(e=>{this.list_trinhdos=e,console.log(e)}),this._api.get("/api/chucvu/get-chucvu").subscribe(e=>{this.list_chucvus=e,console.log(e)}),this._api.get("/api/bophan/get-bophan").subscribe(e=>{this.list_bophans=e,console.log(e)}),this._api.get("/api/phongban/get-phongban").subscribe(e=>{this.list_phongbans=e,console.log(e)}),this.BHdropdownSettings={singleSelection:!1,idField:"maBaoHiem",textField:"loaiBaoHiem",selectAllText:"Ch\u1ecdn t\u1ea5t c\u1ea3",unSelectAllText:"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3",searchPlaceholderText:"T\xecm ki\u1ebfm",noDataAvailablePlaceholderText:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",closeDropDownOnSelection:!1,itemsShowLimit:3,allowSearchFilter:!0},this.PCdropdownSettings={singleSelection:!1,idField:"maPhuCap",textField:"tenPhuCap",selectAllText:"Ch\u1ecdn t\u1ea5t c\u1ea3",unSelectAllText:"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3",searchPlaceholderText:"T\xecm ki\u1ebfm",noDataAvailablePlaceholderText:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",closeDropDownOnSelection:!1,itemsShowLimit:3,allowSearchFilter:!0},this.CNdropdownSettings={singleSelection:!1,idField:"maChucNang",textField:"tenChucNang",selectAllText:"Ch\u1ecdn t\u1ea5t c\u1ea3",unSelectAllText:"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3",searchPlaceholderText:"T\xecm ki\u1ebfm",noDataAvailablePlaceholderText:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",closeDropDownOnSelection:!1,itemsShowLimit:3,allowSearchFilter:!0}}loadBaoHiemList(){this._api.get("/api/baohiem/get-baohiem").subscribe(e=>{this.baoHiemList=e,console.log(e)})}loadPhuCapList(){this._api.get("/api/phucap/get-phucap").subscribe(e=>{this.phuCapList=e,console.log(e)})}loadChucNangList(){this._api.get("/api/chucnang/get-chucnang").subscribe(e=>{this.chucNangList=e,console.log(e)})}LoadPage(e){this._api.post("/api/nhanvien/bo-loc",{phongban:this.phongban,trinhdo:this.trinhdo,bophan:this.bophan,chucvu:this.chucvu,loaitrangthai:this.loaitrangthai,page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_nhanviens=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/nhanvien/bo-loc",{phongban:this.phongban,trinhdo:this.trinhdo,bophan:this.bophan,chucvu:this.chucvu,loaitrangthai:this.loaitrangthai,page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_nhanviens=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/nhanvien/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,hoten:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_nhanviens=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_nhanviens.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}setPhongBan(e){this.phongban=e,localStorage.setItem("phongban",e),this.LoadData(this.pageSize)}setTrinhDo(e){this.trinhdo=e,localStorage.setItem("trinhdo",e),this.LoadData(this.pageSize)}setBoPhan(e){this.bophan=e,localStorage.setItem("bophan",e),this.LoadData(this.pageSize)}setChucVu(e){this.chucvu=e,localStorage.setItem("chucvu",e),this.LoadData(this.pageSize)}setTrangThai(e){this.loaitrangthai=e,localStorage.setItem("loaitrangthai",e),this.LoadData(this.pageSize)}get hoten(){return this.frmNhanvien.get("txt_hoten")}get gioitinh(){return this.frmNhanvien.get("txt_gioitinh")}get ngaysinh(){return this.frmNhanvien.get("txt_ngaysinh")}get cccd(){return this.frmNhanvien.get("txt_cccd")}get diachi(){return this.frmNhanvien.get("txt_diachi")}get hinhanh(){return this.frmNhanvien.get("txt_hinhanh")}get dienthoai(){return this.frmNhanvien.get("txt_dienthoai")}get email(){return this.frmNhanvien.get("txt_email")}get password(){return this.frmNhanvien.get("txt_password")}get mabophan(){return this.frmNhanvien.get("txt_mabophan")}get maphongban(){return this.frmNhanvien.get("txt_maphongban")}get machucvu(){return this.frmNhanvien.get("txt_machucvu")}get matrinhdo(){return this.frmNhanvien.get("txt_matrinhdo")}get mabaohiem(){return this.frmNhanvien.get("txt_mabaohiem")}get maphucap(){return this.frmNhanvien.get("txt_maphucap")}get machucnang(){return this.frmNhanvien.get("txt_machucnang")}get mucluong(){return this.frmNhanvien.get("txt_mucluong")}get trangthai(){return this.frmNhanvien.get("txt_trangthai")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmNhanvien=new a.cw({txt_hoten:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_gioitinh:new a.NI("",[a.kI.required]),txt_ngaysinh:new a.NI("",[a.kI.required]),txt_cccd:new a.NI("",[a.kI.required]),txt_diachi:new a.NI("",[a.kI.required]),txt_hinhanh:new a.NI("",[]),txt_dienthoai:new a.NI("",[a.kI.required,a.kI.pattern("^((\\+84-?)|0)?[0-9]{10}$")]),txt_email:new a.NI("",[a.kI.required,a.kI.email]),txt_password:new a.NI("",[a.kI.required,this.pwdCheckValidator]),txt_mabophan:new a.NI("",[]),txt_maphongban:new a.NI("",[]),txt_machucvu:new a.NI("",[]),txt_matrinhdo:new a.NI("",[]),txt_mabaohiem:new a.NI("",[]),txt_maphucap:new a.NI("",[]),txt_machucnang:new a.NI("",[]),txt_mucluong:new a.NI("",[a.kI.required])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/nhanvien/get-by-id/"+e).subscribe(n=>{this.nhanvien=n.nhanvien,console.log(n),this.frmNhanvien=new a.cw({txt_hoten:new a.NI(this.nhanvien.hoTen,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_gioitinh:new a.NI(this.nhanvien.gioiTinh,[a.kI.required]),txt_ngaysinh:new a.NI(this.nhanvien.ngaySinh,[a.kI.required]),txt_cccd:new a.NI(this.nhanvien.cccd,[a.kI.required]),txt_diachi:new a.NI(this.nhanvien.diaChi,[a.kI.required]),txt_hinhanh:new a.NI(this.nhanvien.hinhAnh,[]),txt_dienthoai:new a.NI(this.nhanvien.dienThoai,[a.kI.required,a.kI.pattern("^((\\+91-?)|0)?[0-9]{9}$")]),txt_email:new a.NI(this.nhanvien.email,[a.kI.required,a.kI.email]),txt_password:new a.NI(this.nhanvien.password,[a.kI.required,this.pwdCheckValidator]),txt_mabophan:new a.NI(this.nhanvien.maBoPhan,[]),txt_maphongban:new a.NI(this.nhanvien.maPhongBan,[]),txt_machucvu:new a.NI(this.nhanvien.maChucVu,[]),txt_matrinhdo:new a.NI(this.nhanvien.maTrinhDo,[]),txt_mabaohiem:new a.NI(this.selectedBaoHiem,[]),txt_maphucap:new a.NI(this.selectedPhuCap,[]),txt_machucnang:new a.NI(this.selectedChucNang,[]),txt_mucluong:new a.NI(this.nhanvien.mucLuong,[]),txt_trangthai:new a.NI(this.nhanvien.trangThai,[])}),this.doneSetupForm=!0,this.maPhongBan=this.nhanvien.maPhongBan,this.maChucVu=this.nhanvien.maChucVu,this.maBoPhan=this.nhanvien.maBoPhan,this.maTrinhDo=this.nhanvien.maTrinhDo,this.trangThai=this.nhanvien.trangThai,this.frmNhanvien.get("txt_ngaysinh")?.patchValue(this.formatDate(new Date(this.nhanvien.ngaySinh)))})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/nhanvien/delete-nhanvien",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}pwdCheckValidator(e){var n={search:e.value,select:"@#!$%&*."},o=(n.select.match(new RegExp("["+n.search+"]","g"))||[]).join("");return e.value.length<8||!o?{password:!0}:null}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}upload(e){e.target.files&&e.target.files.length>0&&(this.file=e.target.files[0])}findInvalidControls(){const e=[],n=this.frmNhanvien.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmNhanvien.invalid)return;let n={};n.nhanvien={HoTen:e.txt_hoten,GioiTinh:e.txt_gioitinh,NgaySinh:e.txt_ngaysinh,Cccd:e.txt_cccd,DiaChi:e.txt_diachi,HinhAnh:e.txt_hinhanh,DienThoai:e.txt_dienthoai,MaTrinhDo:e.txt_matrinhdo,TrangThai:e.txt_trangthai},n.taikhoan={Email:e.txt_email,Password:e.txt_password},n.nhanvienPhongban={MaPhongBan:e.txt_maphongban},n.nhanvienBophan={MaBoPhan:e.txt_mabophan},n.nhanvienChucvu={MaChucVu:e.txt_machucvu},n.nhanvienLuong={MucLuong:e.txt_mucluong},n.nhanvienBaohiem=[],this.selectedBaoHiem.forEach(o=>{n.nhanvienBaohiem.push({MaBaoHiem:o.maBaoHiem})}),n.nhanvienPhucap=[],this.selectedPhuCap.forEach(o=>{n.nhanvienPhucap.push({MaPhuCap:o.maPhuCap})}),n.nhanvienChucnang=[],this.selectedChucNang.forEach(o=>{n.nhanvienChucnang.push({MaChucNang:o.maChucNang})}),console.log(n),this.isCreate?this.file?this._api.uploadFileSingle("/api/upload/upload-single","nhanvien",this.file).subscribe(o=>{o&&o.body&&o.body.filePath&&(n.nhanvien.HinhAnh=o.body.filePath,this._api.post("/api/nhanvien/create-nhanvien",n).subscribe(r=>{r&&r.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}):this._api.post("/api/nhanvien/create-nhanvien",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal(),window.location.reload()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.nhanvien.MaNhanVien=this.nhanvien.maNhanVien,this.file?this._api.uploadFileSingle("/api/upload/upload-single","nhanvien",this.file).subscribe(o=>{o&&o.body&&o.body.filePath&&(n.nhanvien.HinhAnh=o.body.filePath,this._api.post("/api/Nhanvien/update-nhanvien",n).subscribe(r=>{r&&r.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal(),window.location.reload()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}):this._api.post("/api/Nhanvien/update-nhanvien",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T),t.Y36(T.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-nhanvien"]],features:[t.qOj],decls:113,vars:34,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive",2,"min-height","470px"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],["id","DataTables_Table_0_length",1,"dataTables_length"],[1,"col"],[1,"dropdown","custom-dropdown","mr-1"],["type","button","data-toggle","dropdown",1,"btn","btn-sm","btn-outline-primary"],[1,"fa","fa-angle-down","m-l-5"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"ngClass","click"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["height","68px","width","51px",3,"src"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_hoten","type","text","placeholder","H\u1ecd t\xean",1,"form-control"],[1,"radio-inline","mr-5"],["formControlName","txt_gioitinh","type","radio","name","txt_gioitinh","checked","checked","value","Nam",1,"styled"],[1,"radio-inline"],["formControlName","txt_gioitinh","type","radio","name","txt_gioitinh","value","N\u1eef",1,"styled"],["formControlName","txt_ngaysinh","type","date","placeholder","Ng\xe0y sinh",1,"form-control"],["formControlName","txt_cccd","type","text","placeholder","CCCD",1,"form-control"],["formControlName","txt_diachi","type","text","placeholder","\u0110\u1ecba ch\u1ec9",1,"form-control"],[1,"media","no-margin-top"],[1,"media-left"],["href","#"],["alt","",1,"img-rounded",2,"width","58px","height","58px",3,"src"],[1,"media-body"],["accept",".jpg,.png,.jpeg,.gif,.bmp,.tif,.tiff","type","file",1,"file-styled",3,"change"],["formControlName","txt_dienthoai","type","text","placeholder","\u0110i\u1ec7n tho\u1ea1i",1,"form-control"],["formControlName","txt_email","type","text","placeholder","Email",1,"form-control"],["formControlName","txt_password","type","text","placeholder","Password",1,"form-control"],["formControlName","txt_maphongban",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","txt_mabophan",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","txt_machucvu",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","txt_matrinhdo",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","txt_mabaohiem",3,"placeholder","settings","data","ngModel","ngModelChange"],["formControlName","txt_maphucap",3,"placeholder","settings","data","ngModel","ngModelChange"],["formControlName","txt_machucnang",3,"placeholder","settings","data","ngModel","ngModelChange"],["formControlName","txt_mucluong","type","number","placeholder","M\u1ee9c l\u01b0\u01a1ng",1,"form-control"],["class","form-group col-md-6",4,"ngIf"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"],[3,"value"],["formControlName","txt_trangthai",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch nh\xe2n vi\xean"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t.TgZ(27,"div",19)(28,"div",20)(29,"div",2)(30,"div",21)(31,"div",22)(32,"button",23),t._uU(33,"Ph\xf2ng Ban "),t._UZ(34,"i",24),t.qZA(),t.TgZ(35,"div",25)(36,"a",26),t.NdJ("click",function(){return n.setPhongBan("")}),t._uU(37,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(38,w,2,4,"a",27),t.qZA()(),t.TgZ(39,"div",22)(40,"button",23),t._uU(41,"B\u1ed9 Ph\u1eadn "),t._UZ(42,"i",24),t.qZA(),t.TgZ(43,"div",25)(44,"a",26),t.NdJ("click",function(){return n.setBoPhan("")}),t._uU(45,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(46,I,2,4,"a",27),t.qZA()(),t.TgZ(47,"div",22)(48,"button",23),t._uU(49,"Ch\u1ee9c V\u1ee5 "),t._UZ(50,"i",24),t.qZA(),t.TgZ(51,"div",25)(52,"a",26),t.NdJ("click",function(){return n.setChucVu("")}),t._uU(53,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(54,U,2,4,"a",27),t.qZA()(),t.TgZ(55,"div",22)(56,"button",23),t._uU(57,"Tr\xecnh \u0110\u1ed9 "),t._UZ(58,"i",24),t.qZA(),t.TgZ(59,"div",25)(60,"a",26),t.NdJ("click",function(){return n.setTrinhDo("")}),t._uU(61,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(62,D,2,4,"a",27),t.qZA()(),t.TgZ(63,"div",22)(64,"button",23),t._uU(65,"Tr\u1ea1ng Th\xe1i "),t._UZ(66,"i",24),t.qZA(),t.TgZ(67,"div",25)(68,"a",26),t.NdJ("click",function(){return n.setTrangThai("")}),t._uU(69,"T\u1ea5t c\u1ea3"),t.qZA(),t.TgZ(70,"a",26),t.NdJ("click",function(){return n.setTrangThai("1")}),t._uU(71,"\u0110ang l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(72,"a",26),t.NdJ("click",function(){return n.setTrangThai("0")}),t._uU(73,"\u0110\xe3 ngh\u1ec9 vi\u1ec7c"),t.qZA()()()()()()(),t.TgZ(74,"div",28)(75,"form",29),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(76,"div",30),t._UZ(77,"input",31),t.TgZ(78,"button",32),t._uU(79,"Search"),t.qZA()()()()(),t.TgZ(80,"div",2)(81,"div",33)(82,"table",34)(83,"thead")(84,"tr")(85,"th"),t._uU(86,"STT"),t.qZA(),t.TgZ(87,"th"),t._uU(88,"H\xecnh \u1ea3nh"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"H\u1ecd t\xean"),t.qZA(),t.TgZ(91,"th"),t._uU(92,"Gi\u1edbi t\xednh"),t.qZA(),t.TgZ(93,"th"),t._uU(94,"Ng\xe0y sinh"),t.qZA(),t.TgZ(95,"th"),t._uU(96,"\u0110i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(97,"th"),t._uU(98,"Email"),t.qZA(),t.TgZ(99,"th"),t._uU(100,"Ph\xf2ng ban"),t.qZA(),t.TgZ(101,"th"),t._uU(102,"B\u1ed9 ph\u1eadn"),t.qZA(),t.TgZ(103,"th"),t._uU(104,"Ch\u1ee9c v\u1ee5"),t.qZA(),t.YNc(105,k,1,0,"th",35),t.qZA()(),t.TgZ(106,"tbody"),t.YNc(107,M,23,14,"tr",36),t.qZA()(),t.TgZ(108,"div")(109,"ngb-pagination",37),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA(),t.TgZ(110,"div"),t._uU(111),t.qZA()()()()()()()()()()()(),t.YNc(112,ht,11,1,"div",38)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(20),t.Q6J("ngClass",t.VKq(20,c,""==n.phongban)),t.xp6(2),t.Q6J("ngForOf",n.list_phongbans),t.xp6(6),t.Q6J("ngClass",t.VKq(22,c,""==n.bophan)),t.xp6(2),t.Q6J("ngForOf",n.list_bophans),t.xp6(6),t.Q6J("ngClass",t.VKq(24,c,""==n.chucvu)),t.xp6(2),t.Q6J("ngForOf",n.list_chucvus),t.xp6(6),t.Q6J("ngClass",t.VKq(26,c,""==n.trinhdo)),t.xp6(2),t.Q6J("ngForOf",n.list_trinhdos),t.xp6(6),t.Q6J("ngClass",t.VKq(28,c,""==n.loaitrangthai)),t.xp6(2),t.Q6J("ngClass",t.VKq(30,c,"1"==n.loaitrangthai)),t.xp6(2),t.Q6J("ngClass",t.VKq(32,c,"0"==n.loaitrangthai)),t.xp6(3),t.Q6J("formGroup",n.frmSearch),t.xp6(30),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Nh\xe2n s\u1ef1"==n.user.roleBP),t.xp6(2),t.Q6J("ngForOf",n.list_nhanviens),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a._,a.JJ,a.JL,a.sg,a.u,a.On,d.mk,d.sg,d.O5,g.N9,v.OP,d.uU],encapsulation:2}),i})();function ct(i,l){1&i&&t._UZ(0,"th")}function gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"span")(2,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openUpdateModal(o.maPhongBan))}),t._UZ(3,"i",34),t.qZA(),t._uU(4," | "),t.TgZ(5,"a",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onRemove(o.maPhongBan))}),t._UZ(6,"i",36),t.qZA()()()}}function pt(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,gt,7,0,"td",28),t.qZA()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.tenPhongBan),t.xp6(1),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Nh\xe2n s\u1ef1"==o.user.roleBP)}}function _t(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1,"T\xean ph\xf2ng ban kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function mt(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean ph\xf2ng ban kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function ft(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean ph\xf2ng ban kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function vt(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,_t,2,0,"div",57),t.YNc(2,mt,2,0,"div",57),t.YNc(3,ft,2,0,"div",57),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.tenphongban.errors?null:e.tenphongban.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.tenphongban.errors?null:e.tenphongban.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.tenphongban.errors?null:e.tenphongban.errors.maxlength)}}function Tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",46),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmPhongban.value))}),t.TgZ(1,"div",47)(2,"div",5)(3,"div",48)(4,"div",49)(5,"div",50)(6,"label",51),t._uU(7,"T\xean ph\xf2ng ban("),t.TgZ(8,"span",52),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",53),t.YNc(13,vt,4,3,"div",28),t.qZA()()(),t.TgZ(14,"div",54)(15,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",56),t._uU(18,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmPhongban),t.xp6(13),t.Q6J("ngIf",e.tenphongban.invalid&&(e.tenphongban.dirty||e.tenphongban.touched)),t.xp6(4),t.Q6J("disabled",e.frmPhongban.invalid)}}function bt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),t._uU(5,"Qu\u1ea3n l\xfd ph\xf2ng ban"),t.qZA(),t.TgZ(6,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",43),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",44),t.YNc(10,Tt,19,3,"form",45),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let Zt=(()=>{class i extends p.H{constructor(e,n,o){super(e),this.sweetAlertService=n,this.authenticationService=o,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.user=this.authenticationService.userValue,this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/phongban/search",{page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_phongbans=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/phongban/loadData",{page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_phongbans=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/phongban/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,tenphongban:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_phongbans=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_phongbans.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get tenphongban(){return this.frmPhongban.get("txt_tenphongban")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmPhongban=new a.cw({txt_tenphongban:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/phongban/get-by-id/"+e).subscribe(n=>{this.phongban=n.phongban,console.log(n),this.frmPhongban=new a.cw({txt_tenphongban:new a.NI(this.phongban.tenPhongBan,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/phongban/delete-phongban",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmPhongban.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmPhongban.invalid)return;let n={};n.phongban={TenPhongBan:e.txt_tenphongban},this.isCreate?this._api.post("/api/phongban/create-phongban",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.phongban.MaPhongBan=this.phongban.maPhongBan,this._api.post("/api/phongban/update-phongban",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T),t.Y36(T.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-phongban"]],features:[t.qOj],decls:51,vars:9,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"card"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_tenphongban","type","text","placeholder","T\xean ph\xf2ng ban",1,"form-control"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch ph\xf2ng ban"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t._UZ(27,"div",19),t.TgZ(28,"div",20)(29,"form",21),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(30,"div",22),t._UZ(31,"input",23),t.TgZ(32,"button",24),t._uU(33,"Search"),t.qZA()()()()(),t.TgZ(34,"div",2)(35,"div",25)(36,"table",26)(37,"thead")(38,"tr",27)(39,"th"),t._uU(40,"STT"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"T\xean ph\xf2ng ban"),t.qZA(),t.YNc(43,ct,1,0,"th",28),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,pt,6,3,"tr",29),t.qZA()(),t.TgZ(46,"div",30)(47,"ngb-pagination",31),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(48,"div"),t._uU(49),t.qZA()()()()()()()()()(),t.YNc(50,bt,11,1,"div",32)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(13),t.Q6J("formGroup",n.frmSearch),t.xp6(14),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Nh\xe2n s\u1ef1"==n.user.roleBP),t.xp6(2),t.Q6J("ngForOf",n.list_phongbans),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.sg,d.O5,g.N9]}),i})();var Ct=h(247);function xt(i,l){1&i&&t._UZ(0,"th")}function At(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"span")(2,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openUpdateModal(o.maBoPhan))}),t._UZ(3,"i",34),t.qZA(),t._uU(4," | "),t.TgZ(5,"a",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onRemove(o.maBoPhan))}),t._UZ(6,"i",36),t.qZA()()()}}function Et(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,At,7,0,"td",28),t.qZA()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.tenBoPhan),t.xp6(1),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Nh\xe2n s\u1ef1"==o.user.roleBP)}}function Nt(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1,"T\xean b\u1ed9 ph\u1eadn kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function qt(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean b\u1ed9 ph\u1eadn kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function St(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean b\u1ed9 ph\u1eadn kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function wt(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Nt,2,0,"div",60),t.YNc(2,qt,2,0,"div",60),t.YNc(3,St,2,0,"div",60),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.tenbophan.errors?null:e.tenbophan.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.tenbophan.errors?null:e.tenbophan.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.tenbophan.errors?null:e.tenbophan.errors.maxlength)}}function It(i,l){if(1&i&&(t.TgZ(0,"option",61),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maPhongBan),t.xp6(1),t.Oqu(e.tenPhongBan)}}function Ut(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",46),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmBophan.value))}),t.TgZ(1,"div",47)(2,"div",5)(3,"div",48)(4,"div",49)(5,"div",50)(6,"label",51),t._uU(7,"T\xean b\u1ed9 ph\u1eadn("),t.TgZ(8,"span",52),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",53),t.YNc(13,wt,4,3,"div",28),t.qZA()(),t.TgZ(14,"div",50)(15,"label",51),t._uU(16,"Ph\xf2ng ban:"),t.qZA(),t.TgZ(17,"div")(18,"select",54),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maPhongBan=o)}),t.TgZ(19,"option",55),t._uU(20,"Ph\xf2ng ban"),t.qZA(),t.YNc(21,It,2,2,"option",56),t.qZA()()()(),t.TgZ(22,"div",57)(23,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(24,"Close"),t.qZA(),t.TgZ(25,"button",59),t._uU(26,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmBophan),t.xp6(13),t.Q6J("ngIf",e.tenbophan.invalid&&(e.tenbophan.dirty||e.tenbophan.touched)),t.xp6(5),t.Q6J("ngModel",e.maPhongBan),t.xp6(3),t.Q6J("ngForOf",e.list_phongbans),t.xp6(4),t.Q6J("disabled",e.frmBophan.invalid)}}function Dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),t._uU(5,"Qu\u1ea3n l\xfd b\u1ed9 ph\u1eadn"),t.qZA(),t.TgZ(6,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",43),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",44),t.YNc(10,Ut,27,5,"form",45),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let kt=(()=>{class i extends p.H{constructor(e,n,o){super(e),this.sweetAlertService=n,this.authenticationService=o,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.user=this.authenticationService.userValue,this.LoadData(this.pageSize),this._api.get("/api/phongban/get-phongban").subscribe(e=>{this.list_phongbans=e,console.log(e)})}LoadPage(e){this._api.post("/api/bophan/search",{page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_bophans=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/bophan/loadData",{page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_bophans=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/bophan/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,tenbophan:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_bophans=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_bophans.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get tenbophan(){return this.frmBophan.get("txt_tenbophan")}get maphongban(){return this.frmBophan.get("txt_maphongban")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmBophan=new a.cw({txt_tenbophan:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_maphongban:new a.NI("",[])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/bophan/get-by-id/"+e).subscribe(n=>{this.bophan=n.bophan,console.log(n),this.frmBophan=new a.cw({txt_tenbophan:new a.NI(this.bophan.tenBoPhan,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_maphongban:new a.NI(this.bophan.maPhongBan,[])}),this.doneSetupForm=!0,this.maPhongBan=this.bophan.maPhongBan})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/bophan/delete-bophan",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmBophan.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmBophan.invalid)return;let n={};n.bophan={TenBoPhan:e.txt_tenbophan,MaPhongBan:e.txt_maphongban},this.isCreate?this._api.post("/api/bophan/create-bophan",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.bophan.MaBoPhan=this.bophan.maBoPhan,this._api.post("/api/bophan/update-bophan",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T),t.Y36(T.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bophan"]],features:[t.qOj],decls:51,vars:9,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"card"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_tenbophan","type","text","placeholder","T\xean b\u1ed9 ph\u1eadn",1,"form-control"],["formControlName","txt_maphongban",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch b\u1ed9 ph\u1eadn"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t._UZ(27,"div",19),t.TgZ(28,"div",20)(29,"form",21),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(30,"div",22),t._UZ(31,"input",23),t.TgZ(32,"button",24),t._uU(33,"Search"),t.qZA()()()()(),t.TgZ(34,"div",2)(35,"div",25)(36,"table",26)(37,"thead")(38,"tr",27)(39,"th"),t._uU(40,"STT"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"T\xean b\u1ed9 ph\u1eadn"),t.qZA(),t.YNc(43,xt,1,0,"th",28),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,Et,6,3,"tr",29),t.qZA()(),t.TgZ(46,"div",30)(47,"ngb-pagination",31),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(48,"div"),t._uU(49),t.qZA()()()()()()()()()(),t.YNc(50,Dt,11,1,"div",32)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(13),t.Q6J("formGroup",n.frmSearch),t.xp6(14),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Nh\xe2n s\u1ef1"==n.user.roleBP),t.xp6(2),t.Q6J("ngForOf",n.list_bophans),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.sg,d.O5,g.N9]}),i})();function yt(i,l){1&i&&t._UZ(0,"th")}function Mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"span")(2,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openUpdateModal(o.maChucVu))}),t._UZ(3,"i",34),t.qZA(),t._uU(4," | "),t.TgZ(5,"a",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onRemove(o.maChucVu))}),t._UZ(6,"i",36),t.qZA()()()}}function Jt(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,Mt,7,0,"td",28),t.qZA()),2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.tenChucVu),t.xp6(1),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==o.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==o.user.rolePB&&"Nh\xe2n s\u1ef1"==o.user.roleBP)}}function Ft(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1,"T\xean ch\u1ee9c v\u1ee5 kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function Bt(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean ch\u1ee9c v\u1ee5 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function zt(i,l){1&i&&(t.TgZ(0,"div",52),t._uU(1," T\xean ch\u1ee9c v\u1ee5 kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function Lt(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ft,2,0,"div",57),t.YNc(2,Bt,2,0,"div",57),t.YNc(3,zt,2,0,"div",57),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.tenchucvu.errors?null:e.tenchucvu.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.tenchucvu.errors?null:e.tenchucvu.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.tenchucvu.errors?null:e.tenchucvu.errors.maxlength)}}function Qt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",46),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmChucvu.value))}),t.TgZ(1,"div",47)(2,"div",5)(3,"div",48)(4,"div",49)(5,"div",50)(6,"label",51),t._uU(7,"T\xean ch\u1ee9c v\u1ee5("),t.TgZ(8,"span",52),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",53),t.YNc(13,Lt,4,3,"div",28),t.qZA()()(),t.TgZ(14,"div",54)(15,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",56),t._uU(18,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmChucvu),t.xp6(13),t.Q6J("ngIf",e.tenchucvu.invalid&&(e.tenchucvu.dirty||e.tenchucvu.touched)),t.xp6(4),t.Q6J("disabled",e.frmChucvu.invalid)}}function Ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),t._uU(5,"Qu\u1ea3n l\xfd ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(6,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",43),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",44),t.YNc(10,Qt,19,3,"form",45),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let Pt=(()=>{class i extends p.H{constructor(e,n,o){super(e),this.sweetAlertService=n,this.authenticationService=o,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.user=this.authenticationService.userValue,this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/chucvu/search",{page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_chucvus=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/chucvu/loadData",{page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_chucvus=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/chucvu/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,tenchucvu:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_chucvus=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_chucvus.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get tenchucvu(){return this.frmChucvu.get("txt_tenchucvu")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmChucvu=new a.cw({txt_tenchucvu:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/chucvu/get-by-id/"+e).subscribe(n=>{this.chucvu=n.chucvu,console.log(n),this.frmChucvu=new a.cw({txt_tenchucvu:new a.NI(this.chucvu.tenChucVu,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/chucvu/delete-chucvu",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmChucvu.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmChucvu.invalid)return;let n={};n.chucvu={TenChucVu:e.txt_tenchucvu},this.isCreate?this._api.post("/api/chucvu/create-chucvu",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.chucvu.MaChucVu=this.chucvu.maChucVu,this._api.post("/api/chucvu/update-chucvu",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T),t.Y36(T.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-chucvu"]],features:[t.qOj],decls:51,vars:9,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"card"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_tenchucvu","type","text","placeholder","T\xean ch\u1ee9c v\u1ee5",1,"form-control"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t._UZ(27,"div",19),t.TgZ(28,"div",20)(29,"form",21),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(30,"div",22),t._UZ(31,"input",23),t.TgZ(32,"button",24),t._uU(33,"Search"),t.qZA()()()()(),t.TgZ(34,"div",2)(35,"div",25)(36,"table",26)(37,"thead")(38,"tr",27)(39,"th"),t._uU(40,"STT"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"T\xean ch\u1ee9c v\u1ee5"),t.qZA(),t.YNc(43,yt,1,0,"th",28),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,Jt,6,3,"tr",29),t.qZA()(),t.TgZ(46,"div",30)(47,"ngb-pagination",31),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(48,"div"),t._uU(49),t.qZA()()()()()()()()()(),t.YNc(50,Ht,11,1,"div",32)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(13),t.Q6J("formGroup",n.frmSearch),t.xp6(14),t.Q6J("ngIf","Gi\xe1m \u0111\u1ed1c"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Tr\u01b0\u1edfng ph\xf2ng"==n.user.roleCV||"T\xe0i ch\xednh v\xe0 qu\u1ea3n l\xfd"==n.user.rolePB&&"Nh\xe2n s\u1ef1"==n.user.roleBP),t.xp6(2),t.Q6J("ngForOf",n.list_chucvus),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.sg,d.O5,g.N9]}),i})();function Ot(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span")(7,"a",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openUpdateModal(r.maTrinhDo))}),t._UZ(8,"i",33),t.qZA(),t._uU(9," | "),t.TgZ(10,"a",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onRemove(r.maTrinhDo))}),t._UZ(11,"i",35),t.qZA()()()()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.tenTrinhDo)}}function Yt(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1,"T\xean tr\xecnh \u0111\u1ed9 kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function Kt(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1," T\xean tr\xecnh \u0111\u1ed9 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function Vt(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1," T\xean tr\xecnh \u0111\u1ed9 kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function Gt(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Yt,2,0,"div",57),t.YNc(2,Kt,2,0,"div",57),t.YNc(3,Vt,2,0,"div",57),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.tentrinhdo.errors?null:e.tentrinhdo.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.tentrinhdo.errors?null:e.tentrinhdo.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.tentrinhdo.errors?null:e.tentrinhdo.errors.maxlength)}}function $t(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",45),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmTrinhdo.value))}),t.TgZ(1,"div",46)(2,"div",5)(3,"div",47)(4,"div",48)(5,"div",49)(6,"label",50),t._uU(7,"T\xean tr\xecnh \u0111\u1ed9("),t.TgZ(8,"span",51),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",52),t.YNc(13,Gt,4,3,"div",53),t.qZA()()(),t.TgZ(14,"div",54)(15,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",56),t._uU(18,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmTrinhdo),t.xp6(13),t.Q6J("ngIf",e.tentrinhdo.invalid&&(e.tentrinhdo.dirty||e.tentrinhdo.touched)),t.xp6(4),t.Q6J("disabled",e.frmTrinhdo.invalid)}}function jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),t._uU(5,"Qu\u1ea3n l\xfd tr\xecnh \u0111\u1ed9"),t.qZA(),t.TgZ(6,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",42),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",43),t.YNc(10,$t,19,3,"form",44),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let Xt=(()=>{class i extends p.H{constructor(e,n){super(e),this.sweetAlertService=n,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/trinhdo/search",{page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_trinhdos=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/trinhdo/loadData",{page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_trinhdos=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/trinhdo/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,tentrinhdo:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_trinhdos=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_trinhdos.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get tentrinhdo(){return this.frmTrinhdo.get("txt_tentrinhdo")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmTrinhdo=new a.cw({txt_tentrinhdo:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/trinhdo/get-by-id/"+e).subscribe(n=>{this.trinhdo=n.trinhdo,console.log(n),this.frmTrinhdo=new a.cw({txt_tentrinhdo:new a.NI(this.trinhdo.tenTrinhDo,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)])}),this.doneSetupForm=!0})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/trinhdo/delete-trinhdo",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmTrinhdo.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmTrinhdo.invalid)return;let n={};n.trinhdo={TenTrinhDo:e.txt_tentrinhdo},this.isCreate?this._api.post("/api/trinhdo/create-trinhdo",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.trinhdo.MaTrinhDo=this.trinhdo.maTrinhDo,this._api.post("/api/trinhdo/update-trinhdo",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trinhdo"]],features:[t.qOj],decls:53,vars:8,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"card"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_tentrinhdo","type","text","placeholder","T\xean tr\xecnh \u0111\u1ed9",1,"form-control"],[4,"ngIf"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"trinhdo works!"),t.qZA(),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h4",6),t._uU(9,"Danh s\xe1ch tr\xecnh \u0111\u1ed9"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(11,"Th\xeam m\u1edbi "),t._UZ(12,"i",8),t.qZA(),t.TgZ(13,"div",9)(14,"div",10)(15,"div",2)(16,"div",11)(17,"div",12)(18,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(19,"option",14),t._uU(20,"10"),t.qZA(),t.TgZ(21,"option",15),t._uU(22,"5"),t.qZA(),t.TgZ(23,"option",16),t._uU(24,"10"),t.qZA(),t.TgZ(25,"option",17),t._uU(26,"15"),t.qZA(),t.TgZ(27,"option",18),t._uU(28,"20"),t.qZA()()()(),t._UZ(29,"div",19),t.TgZ(30,"div",20)(31,"form",21),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(32,"div",22),t._UZ(33,"input",23),t.TgZ(34,"button",24),t._uU(35,"Search"),t.qZA()()()()(),t.TgZ(36,"div",2)(37,"div",25)(38,"table",26)(39,"thead")(40,"tr",27)(41,"th"),t._uU(42,"STT"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"T\xean tr\xecnh \u0111\u1ed9"),t.qZA(),t._UZ(45,"th"),t.qZA()(),t.TgZ(46,"tbody"),t.YNc(47,Ot,12,2,"tr",28),t.qZA()(),t.TgZ(48,"div",29)(49,"ngb-pagination",30),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(50,"div"),t._uU(51),t.qZA()()()()()()()()()(),t.YNc(52,jt,11,1,"div",31)),2&e&&(t.xp6(18),t.Q6J("ngModel",n.pageSize),t.xp6(13),t.Q6J("formGroup",n.frmSearch),t.xp6(16),t.Q6J("ngForOf",n.list_trinhdos),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.sg,d.O5,g.N9]}),i})();var A=h(6590);function Rt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span")(7,"a",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openUpdateModal(r.maLoaiHopDong))}),t._UZ(8,"i",33),t.qZA(),t._uU(9," | "),t.TgZ(10,"a",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onRemove(r.maLoaiHopDong))}),t._UZ(11,"i",35),t.qZA()()()()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.tenLoaiHopDong)}}function Wt(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1,"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function te(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1," T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 3 k\xfd t\u1ef1 "),t.qZA())}function ee(i,l){1&i&&(t.TgZ(0,"div",51),t._uU(1," T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n 250 k\xfd t\u1ef1 "),t.qZA())}function ne(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Wt,2,0,"div",58),t.YNc(2,te,2,0,"div",58),t.YNc(3,ee,2,0,"div",58),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.tenloaihopdong.errors?null:e.tenloaihopdong.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.tenloaihopdong.errors?null:e.tenloaihopdong.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.tenloaihopdong.errors?null:e.tenloaihopdong.errors.maxlength)}}function oe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",45),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmLoaihopdong.value))}),t.TgZ(1,"div",46)(2,"div",5)(3,"div",47)(4,"div",48)(5,"div",49)(6,"label",50),t._uU(7,"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng("),t.TgZ(8,"span",51),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"div"),t._UZ(12,"input",52),t.YNc(13,ne,4,3,"div",53),t.qZA()()(),t.TgZ(14,"div",48)(15,"div",49)(16,"label",50),t._uU(17,"M\u1eabu h\u1ee3p \u0111\u1ed3ng:"),t.qZA(),t.TgZ(18,"div"),t._UZ(19,"ckeditor",54),t.qZA()()(),t.TgZ(20,"div",55)(21,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",57),t._uU(24,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmLoaihopdong),t.xp6(13),t.Q6J("ngIf",e.tenloaihopdong.invalid&&(e.tenloaihopdong.dirty||e.tenloaihopdong.touched)),t.xp6(10),t.Q6J("disabled",e.frmLoaihopdong.invalid)}}function ie(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"h5",40),t._uU(5,"Qu\u1ea3n l\xfd lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.TgZ(6,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",42),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",43),t.YNc(10,oe,25,3,"form",44),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let ae=(()=>{class i extends p.H{constructor(e,n){super(e),this.sweetAlertService=n,this.isCreate=!1,this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/loaihopdong/search",{page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_loaihopdongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/loaihopdong/loadData",{page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_loaihopdongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/loaihopdong/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,tenloaihopdong:this.frmSearch.value.txt_search}).subscribe(e=>{this.list_loaihopdongs=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_loaihopdongs.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get tenloaihopdong(){return this.frmLoaihopdong.get("txt_tenloaihopdong")}get mauhopdong(){return this.frmLoaihopdong.get("txt_mauhopdong")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmLoaihopdong=new a.cw({txt_tenloaihopdong:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_mauhopdong:new a.NI("",[])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/loaihopdong/get-by-id/"+e).subscribe(n=>{this.loaihopdong=n.loaihopdong,console.log(n),this.frmLoaihopdong=new a.cw({txt_tenloaihopdong:new a.NI(this.loaihopdong.tenLoaiHopDong,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]),txt_mauhopdong:new a.NI(this.loaihopdong.mauHopDong,[])}),this.doneSetupForm=!0})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/loaihopdong/delete-loaihopdong",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmLoaihopdong.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmLoaihopdong.invalid)return;let n={};n.loaihopdong={TenLoaiHopDong:e.txt_tenloaihopdong,MauHopDong:e.txt_mauhopdong},this.isCreate?this._api.post("/api/loaihopdong/create-loaihopdong",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.loaihopdong.MaLoaiHopDong=this.loaihopdong.maLoaiHopDong,this._api.post("/api/loaihopdong/update-loaihopdong",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-loaihopdong"]],features:[t.qOj],decls:51,vars:8,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"card"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-12"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_tenloaihopdong","type","text","placeholder","T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",1,"form-control"],[4,"ngIf"],["formControlName","txt_mauhopdong","data","M\u1eabu h\u1ee3p \u0111\u1ed3ng"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["style","color:red ;",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t._UZ(27,"div",19),t.TgZ(28,"div",20)(29,"form",21),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(30,"div",22),t._UZ(31,"input",23),t.TgZ(32,"button",24),t._uU(33,"Search"),t.qZA()()()()(),t.TgZ(34,"div",2)(35,"div",25)(36,"table",26)(37,"thead")(38,"tr",27)(39,"th"),t._uU(40,"STT"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t._UZ(43,"th"),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,Rt,12,2,"tr",28),t.qZA()(),t.TgZ(46,"div",29)(47,"ngb-pagination",30),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(48,"div"),t._uU(49),t.qZA()()()()()()()()()(),t.YNc(50,ie,11,1,"div",31)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(13),t.Q6J("formGroup",n.frmSearch),t.xp6(16),t.Q6J("ngForOf",n.list_loaihopdongs),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.sg,d.O5,A.u,g.N9]}),i})();const b=function(i){return{active:i}};function le(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setThang(r.value))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,b,n.thang===e.value)),t.xp6(1),t.Oqu(e.label)}}function re(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setNam(r))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,b,n.nam===e)),t.xp6(1),t.Oqu(e)}}function se(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"span")(14,"a",38),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openUpdateModal(r.maHopDong))}),t._UZ(15,"i",39),t.qZA(),t._uU(16," | "),t.TgZ(17,"a",40),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onRemove(r.maHopDong))}),t._UZ(18,"i",41),t.qZA()()()()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.hoTen),t.xp6(2),t.Oqu(e.tenLoaiHopDong),t.xp6(2),t.Oqu(t.xi3(9,5,e.ngayKy,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.lanKy)}}function de(i,l){if(1&i&&(t.TgZ(0,"option",69),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.maLoaiHopDong),t.xp6(1),t.hij("",e.tenLoaiHopDong," ")}}function he(i,l){1&i&&(t.TgZ(0,"div",56),t._uU(1,"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c r\u1ed7ng "),t.qZA())}function ue(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,he,2,0,"div",70),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.maloaihopdong.errors?null:e.maloaihopdong.errors.required)}}function ce(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",51),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmHopdong.value))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",52)(4,"div",53)(5,"div",54)(6,"label",55),t._uU(7,"H\u1ecd t\xean("),t.TgZ(8,"span",56),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"ng-multiselect-dropdown",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedNhanVien=o)}),t.qZA()(),t.TgZ(12,"div",54)(13,"label",55),t._uU(14,"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng("),t.TgZ(15,"span",56),t._uU(16,"*"),t.qZA(),t._uU(17,"):"),t.qZA(),t.TgZ(18,"div")(19,"select",58),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.maLoaiHopDong=o)}),t.TgZ(20,"option",59),t._uU(21,"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.YNc(22,de,2,2,"option",60),t.qZA(),t.YNc(23,ue,2,1,"div",61),t.qZA()(),t.TgZ(24,"div",54)(25,"label",55),t._uU(26,"Ng\xe0y k\xfd:"),t.qZA(),t.TgZ(27,"div"),t._UZ(28,"input",62),t.qZA()(),t.TgZ(29,"div",54)(30,"label",55),t._uU(31,"L\u1ea7n k\xfd:"),t.qZA(),t.TgZ(32,"div"),t._UZ(33,"input",63),t.qZA()()(),t.TgZ(34,"div",53)(35,"div",64)(36,"label",55),t._uU(37,"N\u1ed9i dung h\u1ee3p \u0111\u1ed3ng:"),t.qZA(),t.TgZ(38,"div"),t._UZ(39,"ckeditor",65),t.qZA()()(),t.TgZ(40,"div",66)(41,"button",67),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(42,"Close"),t.qZA(),t.TgZ(43,"button",68),t._uU(44,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmHopdong),t.xp6(11),t.Q6J("placeholder","T\xean nh\xe2n vi\xean")("settings",e.NVdropdownSettings)("data",e.nhanVienList)("ngModel",e.selectedNhanVien),t.xp6(8),t.Q6J("ngModel",e.maLoaiHopDong),t.xp6(3),t.Q6J("ngForOf",e.list_loaihopdongs),t.xp6(1),t.Q6J("ngIf",e.maloaihopdong.invalid&&(e.maloaihopdong.dirty||e.maloaihopdong.touched)),t.xp6(20),t.Q6J("disabled",e.frmHopdong.invalid)}}function ge(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"h5",46),t._uU(5,"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.TgZ(6,"button",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",48),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",49),t.YNc(10,ce,45,9,"form",50),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let pe=(()=>{class i extends p.H{constructor(e,n){super(e),this.sweetAlertService=n,this.isCreate=!1,this.years=[],this.months=[],this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.LoadData(this.pageSize),this._api.get("/api/loaihopdong/get-loaihopdong").subscribe(n=>{this.list_loaihopdongs=n,console.log(n)}),this.loadNhanVienList(),this.thang=localStorage.getItem("thang")||"",this.nam=localStorage.getItem("nam")||"";const e=(new Date).getFullYear();for(let n=e;n>=e-5;n--)this.years.push(n.toString());for(let n=12;n>=1;n--)this.months.push({value:n.toString(),label:"Th\xe1ng "+n})}setThang(e){this.thang=e,localStorage.setItem("thang",e),this.LoadData(this.pageSize)}setNam(e){this.nam=e,localStorage.setItem("nam",e),this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/hopdong/search",{thang:this.thang,nam:this.nam,page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_hopdongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/hopdong/loadData",{thang:this.thang,nam:this.nam,page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_hopdongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/hopdong/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,hoten:this.frmSearch.value.txt_search,thang:localStorage.getItem("thang")||"",nam:localStorage.getItem("nam")||""}).subscribe(e=>{this.list_hopdongs=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_hopdongs.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get maloaihopdong(){return this.frmHopdong.get("txt_maloaihopdong")}get manhanvien(){return this.frmHopdong.get("txt_manhanvien")}get ngayky(){return this.frmHopdong.get("txt_ngayky")}get noidung(){return this.frmHopdong.get("txt_noidung")}get lanky(){return this.frmHopdong.get("txt_lanky")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmHopdong=new a.cw({txt_maloaihopdong:new a.NI("",[a.kI.required]),txt_manhanvien:new a.NI("",[a.kI.required]),txt_ngayky:new a.NI("",[]),txt_noidung:new a.NI("",[a.kI.required]),txt_lanky:new a.NI("",[a.kI.required])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/hopdong/get-by-id/"+e).subscribe(n=>{this.hopdong=n.hopdong,console.log(n),this.frmHopdong=new a.cw({txt_maloaihopdong:new a.NI(this.hopdong.maLoaiHopDong,[a.kI.required]),txt_manhanvien:new a.NI(this.hopdong.maNhanVien,[a.kI.required]),txt_ngayky:new a.NI(this.hopdong.ngayKy,[]),txt_noidung:new a.NI(this.hopdong.noiDung,[a.kI.required]),txt_lanky:new a.NI(this.hopdong.lanKy,[a.kI.required])}),this.doneSetupForm=!0,this.maLoaiHopDong=this.hopdong.maLoaiHopDong,this.maNhanVien=this.hopdong.maNhanVien,this.frmHopdong.get("txt_ngayky")?.patchValue(this.formatDate(new Date(this.hopdong.ngayKy)))})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/hopdong/delete-hopdong",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmHopdong.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmHopdong.invalid)return;let n={};n.hopdong={MaLoaiHopDong:e.txt_maloaihopdong,MaNhanVien:this.selectedNhanVien[0].maNhanVien,NgayKy:e.txt_ngayky,NoiDung:e.txt_noidung,LanKy:e.txt_lanky},this.isCreate?this._api.post("/api/hopdong/create-hopdong",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.hopdong.MaHopDong=this.hopdong.maHopDong,this._api.post("/api/hopdong/update-hopdong",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hopdong"]],features:[t.qOj],decls:73,vars:16,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive",2,"min-height","450px"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"dropdown","custom-dropdown","mr-1"],["type","button","data-toggle","dropdown",1,"btn","btn-sm","btn-outline-primary"],[1,"fa","fa-angle-down","m-l-5"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"ngClass","click"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_manhanvien",3,"placeholder","settings","data","ngModel","ngModelChange"],["formControlName","txt_maloaihopdong",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","txt_ngayky","type","date","placeholder","Ng\xe0y k\xfd",1,"form-control"],["formControlName","txt_lanky","type","number","placeholder","L\u1ea7n k\xfd",1,"form-control"],[1,"form-group","col-md-12"],["formControlName","txt_noidung","data","N\u1ed9i dung h\u1ee3p \u0111\u1ed3ng"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],["style","color:red ;",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t.TgZ(27,"div",19)(28,"div",20)(29,"button",21),t._uU(30," Th\xe1ng "),t._UZ(31,"i",22),t.qZA(),t.TgZ(32,"div",23)(33,"a",24),t.NdJ("click",function(){return n.setThang("")}),t._uU(34,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(35,le,2,4,"a",25),t.qZA()(),t.TgZ(36,"div",20)(37,"button",21),t._uU(38," N\u0103m "),t._UZ(39,"i",22),t.qZA(),t.TgZ(40,"div",23)(41,"a",24),t.NdJ("click",function(){return n.setNam("")}),t._uU(42,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(43,re,2,4,"a",25),t.qZA()()(),t.TgZ(44,"div",26)(45,"form",27),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(46,"div",28),t._UZ(47,"input",29),t.TgZ(48,"button",30),t._uU(49,"Search"),t.qZA()()()()(),t.TgZ(50,"div",2)(51,"div",31)(52,"table",32)(53,"thead")(54,"tr",33)(55,"th"),t._uU(56,"STT"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"H\u1ecd t\xean"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Ng\xe0y k\xfd"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"L\u1ea7n k\xfd"),t.qZA(),t._UZ(65,"th"),t.qZA()(),t.TgZ(66,"tbody"),t.YNc(67,se,19,8,"tr",34),t.qZA()(),t.TgZ(68,"div",35)(69,"ngb-pagination",36),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()()(),t.TgZ(70,"div"),t._uU(71),t.qZA()()()()()()()()(),t.YNc(72,ge,11,1,"div",37)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(17),t.Q6J("ngClass",t.VKq(12,b,""==n.thang)),t.xp6(2),t.Q6J("ngForOf",n.months),t.xp6(6),t.Q6J("ngClass",t.VKq(14,b,""==n.nam)),t.xp6(2),t.Q6J("ngForOf",n.years),t.xp6(2),t.Q6J("formGroup",n.frmSearch),t.xp6(22),t.Q6J("ngForOf",n.list_hopdongs),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.mk,d.sg,d.O5,A.u,g.N9,v.OP,d.uU]}),i})();var C=h(4565),u=h(7225);const Z=function(i){return{active:i}};function _e(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setThang(r.value))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,Z,n.thang===e.value)),t.xp6(1),t.Oqu(e.label)}}function me(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setNam(r))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,Z,n.nam===e)),t.xp6(1),t.Oqu(e)}}function fe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td")(12,"span")(13,"a",38),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openUpdateModal(r.id))}),t._UZ(14,"i",39),t.qZA(),t._uU(15," | "),t.TgZ(16,"a",40),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onRemove(r.id))}),t._UZ(17,"i",41),t.qZA()()()()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw();t.xp6(2),t.Oqu((o.page-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.hoTen),t.xp6(2),t.Oqu(t.xi3(7,4,e.ngayBatDauNghi,"dd/MM/yyyy")),t.xp6(3),t.Oqu(t.xi3(10,7,e.ngayKetThucNghi,"dd/MM/yyyy"))}}function ve(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"form",51),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnSubmit(o.frmNghiphep.value))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",52)(4,"div",53)(5,"div",54)(6,"label",55),t._uU(7,"H\u1ecd t\xean("),t.TgZ(8,"span",56),t._uU(9,"*"),t.qZA(),t._uU(10,"):"),t.qZA(),t.TgZ(11,"ng-multiselect-dropdown",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectedNhanVien=o)}),t.qZA()()(),t.TgZ(12,"div",53)(13,"div",54)(14,"label",55),t._uU(15,"Ng\xe0y BD ngh\u1ec9:"),t.qZA(),t.TgZ(16,"div"),t._UZ(17,"input",58),t.qZA()(),t.TgZ(18,"div",54)(19,"label",55),t._uU(20,"Ng\xe0y KT ngh\u1ec9:"),t.qZA(),t.TgZ(21,"div"),t._UZ(22,"input",59),t.qZA()()(),t.TgZ(23,"div",60)(24,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeModal())}),t._uU(25,"Close"),t.qZA(),t.TgZ(26,"button",62),t._uU(27,"Save"),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.Q6J("formGroup",e.frmNghiphep),t.xp6(11),t.Q6J("placeholder","T\xean nh\xe2n vi\xean")("settings",e.NVdropdownSettings)("data",e.nhanVienList)("ngModel",e.selectedNhanVien),t.xp6(15),t.Q6J("disabled",e.frmNghiphep.invalid)}}function Te(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"h5",46),t._uU(5,"Qu\u1ea3n l\xfd ngh\u1ec9 ph\xe9p"),t.qZA(),t.TgZ(6,"button",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t.TgZ(7,"span",48),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",49),t.YNc(10,ve,28,6,"form",50),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.doneSetupForm)}}let be=(()=>{class i extends p.H{constructor(e,n){super(e),this.sweetAlertService=n,this.isCreate=!1,this.years=[],this.months=[],this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.LoadData(this.pageSize),this.loadNhanVienList(),this.thang=localStorage.getItem("thang")||"",this.nam=localStorage.getItem("nam")||"";const e=(new Date).getFullYear();for(let n=e;n>=e-5;n--)this.years.push(n.toString());for(let n=12;n>=1;n--)this.months.push({value:n.toString(),label:"Th\xe1ng "+n})}setThang(e){this.thang=e,localStorage.setItem("thang",e),this.LoadData(this.pageSize)}setNam(e){this.nam=e,localStorage.setItem("nam",e),this.LoadData(this.pageSize)}LoadPage(e){this._api.post("/api/nghiphep/search",{thang:this.thang,nam:this.nam,page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_nghipheps=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/nghiphep/loadData",{thang:this.thang,nam:this.nam,page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_nghipheps=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/nghiphep/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,hoten:this.frmSearch.value.txt_search,thang:localStorage.getItem("thang")||"",nam:localStorage.getItem("nam")||""}).subscribe(e=>{this.list_nghipheps=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_nghipheps.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}get manhanvien(){return this.frmNghiphep.get("txt_manhanvien")}get ngaybatdaunghi(){return this.frmNghiphep.get("txt_ngaybatdaunghi")}get ngayketthucnghi(){return this.frmNghiphep.get("txt_ngayketthucnghi")}createModal(){this.showUpdateModal=!0,this.isCreate=!0,setTimeout(()=>{$("#modelId").modal("toggle"),this.frmNghiphep=new a.cw({txt_manhanvien:new a.NI("",[a.kI.required]),txt_ngaybatdaunghi:new a.NI("",[]),txt_ngayketthucnghi:new a.NI("",[])}),this.doneSetupForm=!0})}openUpdateModal(e){this.showUpdateModal=!0,this.doneSetupForm=!1,this.isCreate=!1,setTimeout(()=>{$("#modelId").modal("toggle"),this._api.get("/api/nghiphep/get-by-id/"+e).subscribe(n=>{this.nghiphep=n.nghiphep,console.log(n),this.frmNghiphep=new a.cw({txt_manhanvien:new a.NI(this.nghiphep.maNhanVien,[a.kI.required]),txt_ngaybatdaunghi:new a.NI(this.nghiphep.ngayBatDauNghi,[]),txt_ngayketthucnghi:new a.NI(this.nghiphep.ngayKetThucNghi,[a.kI.required])}),this.doneSetupForm=!0,this.maNhanVien=this.nghiphep.maNhanVien,this.frmNghiphep.get("txt_ngaybatdaunghi")?.patchValue(this.formatDate(new Date(this.nghiphep.ngayBatDauNghi))),this.frmNghiphep.get("txt_ngayketthucnghi")?.patchValue(this.formatDate(new Date(this.nghiphep.ngayKetThucNghi)))})})}onRemove(e){m().fire({title:"X\xe1c nh\u1eadn",text:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",icon:"question",showCancelButton:!0,cancelButtonText:"H\u1ee7y",confirmButtonText:"X\xf3a"}).then(n=>{n.isConfirmed&&this._api.delete("/api/nghiphep/delete-nghiphep",e).subscribe(o=>{this.LoadData(this.pageSize)})})}closeModal(){$("#modelId").closest(".modal").modal("hide")}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}findInvalidControls(){const e=[],n=this.frmNghiphep.controls;for(const o in n)n[o].invalid&&e.push(o);return e}OnSubmit(e){if(console.log(this.findInvalidControls()),this.frmNghiphep.invalid)return;let n={};n.nghiphep={MaNhanVien:this.selectedNhanVien[0].maNhanVien,NgayBatDauNghi:e.txt_ngaybatdaunghi,NgayKetThucNghi:e.txt_ngayketthucnghi},this.isCreate?this._api.post("/api/nghiphep/create-nghiphep",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}):(n.nghiphep.Id=this.nghiphep.id,this._api.post("/api/nghiphep/update-nghiphep",n).subscribe(o=>{o&&o.data?(this.sweetAlertService.showSuccessAlert("Th\xe0nh c\xf4ng","C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"),this.LoadData(this.pageSize),this.closeModal()):this.sweetAlertService.showErrorAlert("L\u1ed7i","Th\xf4ng b\xe1o l\u1ed7i.")}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-nghiphep"]],features:[t.qOj],decls:71,vars:16,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","button","id","toastr-success-top-right",1,"btn","btn-success","m-b-10","m-l-5","mb-2",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive",2,"min-height","450px"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-4","col-md-6"],[1,"dropdown","custom-dropdown","mr-1"],["type","button","data-toggle","dropdown",1,"btn","btn-sm","btn-outline-primary"],[1,"fa","fa-angle-down","m-l-5"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"ngClass","click"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-sm-2","col-md-3"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["id","DataTables_Table_0_filter",1,"dataTables_filter"],["formControlName","txt_search","type","search","placeholder","Search","aria-controls","DataTables_Table_0",1,"border","form-control-sm"],["type","submit",1,"btn","btn-info","ml-1"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],["role","row "],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],["class","modal fade ","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],["href","#","data-toggle","tooltip","data-placement","top","title","S\u1eeda",3,"click"],[1,"fa","fa-pencil","color-muted","m-r-5"],["href","#","data-toggle","tooltip","data-placement","top","title","X\xf3a",3,"click"],[1,"fa","fa-close","color-danger"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","form-valide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form-valide",3,"formGroup","ngSubmit"],[1,"form-validation"],[1,"form-row"],[1,"form-group","col-md-6"],["for","",1,"col-form-label"],[2,"color","red"],["formControlName","txt_manhanvien",3,"placeholder","settings","data","ngModel","ngModelChange"],["formControlName","txt_ngaybatdaunghi","type","date","placeholder","Ng\xe0y BD ngh\u1ec9",1,"form-control"],["formControlName","txt_ngayketthucnghi","type","date","placeholder","Ng\xe0y KT ngh\u1ec9",1,"form-control"],[1,"modal-footer","form-group","row"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch ngh\u1ec9 ph\xe9p"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.createModal()}),t._uU(9,"Th\xeam m\u1edbi "),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",2)(14,"div",11)(15,"div",12)(16,"select",13),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(17,"option",14),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",15),t._uU(20,"5"),t.qZA(),t.TgZ(21,"option",16),t._uU(22,"10"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"15"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"20"),t.qZA()()()(),t.TgZ(27,"div",19)(28,"div",20)(29,"button",21),t._uU(30," Th\xe1ng "),t._UZ(31,"i",22),t.qZA(),t.TgZ(32,"div",23)(33,"a",24),t.NdJ("click",function(){return n.setThang("")}),t._uU(34,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(35,_e,2,4,"a",25),t.qZA()(),t.TgZ(36,"div",20)(37,"button",21),t._uU(38," N\u0103m "),t._UZ(39,"i",22),t.qZA(),t.TgZ(40,"div",23)(41,"a",24),t.NdJ("click",function(){return n.setNam("")}),t._uU(42,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(43,me,2,4,"a",25),t.qZA()()(),t.TgZ(44,"div",26)(45,"form",27),t.NdJ("ngSubmit",function(){return n.loadData()}),t.TgZ(46,"div",28),t._UZ(47,"input",29),t.TgZ(48,"button",30),t._uU(49,"Search"),t.qZA()()()()(),t.TgZ(50,"div",2)(51,"div",31)(52,"table",32)(53,"thead")(54,"tr",33)(55,"th"),t._uU(56,"STT"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"H\u1ecd t\xean"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Ng\xe0y BD Nghi"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Ngay KT Nghi"),t.qZA(),t._UZ(63,"th"),t.qZA()(),t.TgZ(64,"tbody"),t.YNc(65,fe,18,10,"tr",34),t.qZA()(),t.TgZ(66,"div",35)(67,"ngb-pagination",36),t.NdJ("pageChange",function(r){return n.LoadPage(r)})("pageChange",function(r){return n.page=r}),t.qZA()()(),t.TgZ(68,"div"),t._uU(69),t.qZA()()()()()()()()()(),t.YNc(70,Te,11,1,"div",37)),2&e&&(t.xp6(16),t.Q6J("ngModel",n.pageSize),t.xp6(17),t.Q6J("ngClass",t.VKq(12,Z,""==n.thang)),t.xp6(2),t.Q6J("ngForOf",n.months),t.xp6(6),t.Q6J("ngClass",t.VKq(14,Z,""==n.nam)),t.xp6(2),t.Q6J("ngForOf",n.years),t.xp6(2),t.Q6J("formGroup",n.frmSearch),t.xp6(20),t.Q6J("ngForOf",n.list_nghipheps),t.xp6(2),t.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",n.totalItem),t.xp6(2),t.Oqu(n.getShowingEntries()),t.xp6(1),t.Q6J("ngIf",n.showUpdateModal))},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,d.mk,d.sg,d.O5,g.N9,v.OP,d.uU]}),i})();const f=function(i){return{active:i}};function Ze(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setNgay(r))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,f,n.ngay===e)),t.xp6(1),t.Oqu(e)}}function Ce(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setThang(r.value))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,f,n.thang===e.value)),t.xp6(1),t.Oqu(e.label)}}function xe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setNam(r))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,f,n.nam===e)),t.xp6(1),t.Oqu(e)}}function Ae(i,l){1&i&&(t.TgZ(0,"td"),t._UZ(1,"span",38),t.qZA())}function Ee(i,l){if(1&i&&(t.TgZ(0,"td")(1,"span",39),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.trangThaiVao)}}function Ne(i,l){1&i&&(t.TgZ(0,"td"),t._UZ(1,"span",38),t.qZA())}function qe(i,l){if(1&i&&(t.TgZ(0,"td")(1,"span",39),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.trangThaiRa)}}function Se(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.YNc(12,Ae,2,0,"td",37),t.YNc(13,Ee,3,1,"td",37),t.YNc(14,Ne,2,0,"td",37),t.YNc(15,qe,3,1,"td",37),t.qZA()),2&i){const e=l.$implicit;t.xp6(2),t.Oqu(e.hoTen),t.xp6(2),t.Oqu(t.xi3(5,8,e.gioVao,"dd/MM/yyyy")),t.xp6(3),t.Oqu(t.xi3(8,11,e.gioVao,"hh:mm a")),t.xp6(3),t.Oqu(t.xi3(11,14,e.gioRa,"hh:mm a")),t.xp6(2),t.Q6J("ngIf",null==e.trangThaiVao),t.xp6(1),t.Q6J("ngIf",e.trangThaiVao),t.xp6(1),t.Q6J("ngIf",null==e.trangThaiRa),t.xp6(1),t.Q6J("ngIf",e.trangThaiRa)}}function we(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",32)(2,"table",33)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Nh\xe2n vi\xean"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Ng\xe0y"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Gi\u1edd v\xe0o"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Gi\u1edd ra"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Tr\u1ea1ng th\xe1i v\xe0o"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Tr\u1ea1ng th\xe1i ra"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,Se,16,17,"tr",34),t.qZA()(),t.TgZ(19,"div",35)(20,"ngb-pagination",36),t.NdJ("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.LoadPage(o))})("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.page=o)}),t.qZA()()(),t.TgZ(21,"div"),t._uU(22),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.list_bangcongs),t.xp6(2),t.Q6J("page",e.page)("pageSize",e.pageSize)("collectionSize",e.totalItem),t.xp6(2),t.Oqu(e.getShowingEntries())}}function Ie(i,l){1&i&&(t.TgZ(0,"div",2)(1,"h4"),t._uU(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),t.qZA()())}let Ue=(()=>{class i extends p.H{constructor(e,n){super(e),this.sweetAlertService=n,this.years=[],this.months=[],this.frmSearch=new a.cw({txt_search:new a.NI("",[])})}ngOnInit(){this.LoadData(this.pageSize),this.loadNhanVienList(),this.thang=localStorage.getItem("thang")||"",this.nam=localStorage.getItem("nam")||"",this.ngay=localStorage.getItem("ngay")||"";const e=(new Date).getFullYear();for(let n=e;n>=e-5;n--)this.years.push(n.toString());for(let n=12;n>=1;n--)this.months.push({value:n.toString(),label:"Th\xe1ng "+n});this.daysInMonth=new Date(this.nam,this.thang,0).getDate()}getDaysInMonth(){return Array.from({length:this.daysInMonth},(e,n)=>n+1)}BangCong(){this._api.post("/api/bangcong/loadData",{thang:this.thang,nam:this.nam,ngay:this.ngay,manhanvien:this.selectedNhanVien[0].maNhanVien,page:this.page,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(e=>{this.list_bangcongs=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_bangcongs.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadPage(e){this._api.post("/api/bangcong/loadData",{thang:this.thang,nam:this.nam,ngay:this.ngay,page:e,pageSize:this.pageSize,totalItem:this.totalItem}).subscribe(n=>{this.list_bangcongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}LoadData(e){this._api.post("/api/bangcong/loadData",{thang:this.thang,nam:this.nam,ngay:this.ngay,page:1,pageSize:e,totalItem:this.totalItem}).subscribe(n=>{this.list_bangcongs=n.data,this.pageSize=n.pageSize,this.page=n.page,this.totalItem=n.totalItem,console.log(n),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}loadData(){this._api.post("/api/bangcong/search",{page:this.page,pageSize:this.pageSize,totalItem:this.totalItem,hoten:this.frmSearch.value.txt_search,thang:this.thang,nam:this.nam,ngay:this.ngay}).subscribe(e=>{this.list_bangcongs=e.data,this.pageSize=e.pageSize,this.page=e.page,this.totalItem=this.list_bangcongs.length,console.log(e),setTimeout(()=>{this.loadScripts("/assets/ckeditor/ckeditor.js")})})}ngAfterViewInit(){this.loadScripts("/assets/ckeditor/ckeditor.js")}setThang(e){this.thang=e,localStorage.setItem("thang",e),this.LoadData(this.pageSize)}setNam(e){this.nam=e,localStorage.setItem("nam",e),this.LoadData(this.pageSize)}setNgay(e){this.ngay=e,localStorage.setItem("ngay",e),this.LoadData(this.pageSize)}setNv(e){this.manhanvien=e,localStorage.setItem("manhanvien",e),this.LoadData(this.pageSize)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(_.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bangcong"]],features:[t.qOj],decls:58,vars:19,consts:[[1,"content-body"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card",2,"min-height","580px"],[1,"card-body"],[1,"card-title"],[1,"table-responsive",2,"min-height","450px"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","container-fluid","dt-bootstrap4"],[1,"col-sm-3","col-md-3"],["id","DataTables_Table_0_length",1,"form-group"],[1,"form-control","col-sm-3","col-md-3",2,"height","20px","font-size","13px",3,"ngModel","ngModelChange"],["selected","","hidden","","disabled",""],["value","5"],["value","10"],["value","15"],["value","20"],[1,"col-sm-3","col-md-4"],[1,"dropdown","custom-dropdown","mr-1"],["type","button","data-toggle","dropdown",1,"btn","btn-sm","btn-outline-primary"],[1,"fa","fa-angle-down","m-l-5"],[1,"dropdown-menu","dropdown-menu-right",2,"height","400px","overflow","auto"],[1,"dropdown-item",3,"ngClass","click"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown-menu","dropdown-menu-right"],[1,"col-sm-3","col-md-5"],[1,"form-row"],[1,"form-group","col-md-6"],[3,"placeholder","settings","data","ngModel","ngModelChange"],[1,"col-md-1"],["type","submit",1,"btn","btn-info",3,"click"],["class"," row ",4,"ngIf"],[1,"col-sm-12"],[1,"table","table-striped","table-bordered","zero-configuration","dataTable","table-sm","row-border","hover"],[4,"ngFor","ngForOf"],[1,"bootstrap-pagination"],[3,"page","pageSize","collectionSize","pageChange"],[4,"ngIf"],[1,"badge","badge-success","px-2"],[1,"badge","badge-danger","px-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Danh s\xe1ch KTKL"),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",2)(11,"div",9)(12,"div",10)(13,"select",11),t.NdJ("ngModelChange",function(r){return n.LoadData(r)})("ngModelChange",function(r){return n.pageSize=r}),t.TgZ(14,"option",12),t._uU(15,"10"),t.qZA(),t.TgZ(16,"option",13),t._uU(17,"5"),t.qZA(),t.TgZ(18,"option",14),t._uU(19,"10"),t.qZA(),t.TgZ(20,"option",15),t._uU(21,"15"),t.qZA(),t.TgZ(22,"option",16),t._uU(23,"20"),t.qZA()()()(),t.TgZ(24,"div",17)(25,"div",18)(26,"button",19),t._uU(27," Ng\xe0y "),t._UZ(28,"i",20),t.qZA(),t.TgZ(29,"div",21)(30,"a",22),t.NdJ("click",function(){return n.setNgay("")}),t._uU(31,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(32,Ze,2,4,"a",23),t.qZA()(),t.TgZ(33,"div",18)(34,"button",19),t._uU(35," Th\xe1ng "),t._UZ(36,"i",20),t.qZA(),t.TgZ(37,"div",24)(38,"a",22),t.NdJ("click",function(){return n.setThang("")}),t._uU(39,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(40,Ce,2,4,"a",23),t.qZA()(),t.TgZ(41,"div",18)(42,"button",19),t._uU(43," N\u0103m "),t._UZ(44,"i",20),t.qZA(),t.TgZ(45,"div",24)(46,"a",22),t.NdJ("click",function(){return n.setNam("")}),t._uU(47,"T\u1ea5t c\u1ea3"),t.qZA(),t.YNc(48,xe,2,4,"a",23),t.qZA()()(),t.TgZ(49,"div",25)(50,"div",26)(51,"div",27)(52,"ng-multiselect-dropdown",28),t.NdJ("ngModelChange",function(r){return n.selectedNhanVien=r}),t.qZA()(),t.TgZ(53,"div",29)(54,"button",30),t.NdJ("click",function(){return n.BangCong()}),t._uU(55,"B\u1ea3ng c\xf4ng"),t.qZA()()()()(),t.YNc(56,we,23,5,"div",31),t.YNc(57,Ie,3,0,"div",31),t.qZA()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("ngModel",n.pageSize),t.xp6(17),t.Q6J("ngClass",t.VKq(13,f,""==n.ngay)),t.xp6(2),t.Q6J("ngForOf",n.getDaysInMonth()),t.xp6(6),t.Q6J("ngClass",t.VKq(15,f,""==n.thang)),t.xp6(2),t.Q6J("ngForOf",n.months),t.xp6(6),t.Q6J("ngClass",t.VKq(17,f,""==n.nam)),t.xp6(2),t.Q6J("ngForOf",n.years),t.xp6(4),t.Q6J("placeholder","T\xean nh\xe2n vi\xean")("settings",n.NVdropdownSettings)("data",n.nhanVienList)("ngModel",n.selectedNhanVien),t.xp6(4),t.Q6J("ngIf",n.list_bangcongs&&n.list_bangcongs.length>0),t.xp6(1),t.Q6J("ngIf",n.list_bangcongs&&0==n.list_bangcongs.length))},dependencies:[a.YN,a.Kr,a.EJ,a.JJ,a.On,d.mk,d.sg,d.O5,g.N9,v.OP,d.uU]}),i})(),De=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[a.UX,a.u5,Ct.A0,d.ez,N.m,g.IJ,q.u3,v.ZQ,E.Bz.forChild([{path:"nhan-vien",component:ut},{path:"phong-ban",component:Zt},{path:"bo-phan",component:kt},{path:"nghi-phep",component:be},{path:"bang-cong",component:Ue},{path:"chuc-vu",component:Pt},{path:"loai-hopdong",component:ae,canActivate:[C.p],data:{roles:[[u.Wj.Giamdoc],[u.K.Taichinhvaquanly,u.W0.Nhansu],[u.K.Taichinhvaquanly,u.Wj.Truongphong]]}},{path:"hop-dong",component:pe,canActivate:[C.p],data:{roles:[[u.Wj.Giamdoc],[u.K.Taichinhvaquanly,u.W0.Nhansu],[u.K.Taichinhvaquanly,u.Wj.Truongphong]]}},{path:"trinh-do",component:Xt,canActivate:[C.p],data:{roles:[[u.Wj.Giamdoc],[u.K.Taichinhvaquanly,u.W0.Nhansu],[u.K.Taichinhvaquanly,u.Wj.Truongphong]]}}])]}),i})()}}]);